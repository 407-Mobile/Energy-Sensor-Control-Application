<html>

<head>
    <meta charset="utf-8" />
        <meta name="format-detection" content="telephone=no" />
        <!-- WARNING: for iOS 7, remove the width=device-width and height=device-height attributes. See https://issues.apache.org/jira/browse/CB-4323 -->
        <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height, target-densitydpi=device-dpi" />
        <link rel="stylesheet" href="http://code.jquery.com/mobile/1.4.1/jquery.mobile-1.4.1.min.css"/>
        <link rel="stylesheet" href="css/index.css">
        <link rel="stylesheet" href="css/custom.css">
        <script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
        <script src="http://code.jquery.com/mobile/1.4.1/jquery.mobile-1.4.1.min.js"></script>
        <script src="http://maps.googleapis.com/maps/api/js?sensor=true"></script>
        <script src="http://www.parsecdn.com/js/parse-1.2.18.min.js"></script>
</head>

<body> 
	
<div id="loginPage" data-role="page" data-theme="b">

    <div data-theme="b" data-role="header" id="header">
                <strong id="WINGS">WINGS-Energy Control</strong>
                <img src="img/router.png">
     </div>

    <div data-role="content" data-theme="b">    

        <form id="loginForm" data-theme="b">
        <div data-role="fieldcontain" class="ui-hide-label" data-theme="b">
            <label for="email">Email:</label>
            <input type="text" name="email" id="email" value="" placeholder="Email" />
        </div>

        <div data-role="fieldcontain" class="ui-hide-label" data-theme="b"> 
            <label for="password">Password:</label>
            <input type="password" name="password" id="password" value="" placeholder="Password" />
        </div>

        </form>
        <button data-role="button" id="loginBtn" data-theme="b">Login</button>
    </div>

    <div data-theme="b" data-role="footer">
                <h3>
                    UW-Madison
                </h3>
            </div>
</div>

<div data-role="page" data-control-title="Routers" id="devices" data-theme="b">
    <div data-theme="b" data-role="header" id="header">
        <button data-role="button" data-inline="true" class="ui-btn-left" id="btnLogout">
            Logout
        </button>
        <h5>
            Energy Control
        </h5>
    </div>
    <div data-role="content" data-theme="b">
        <ul data-role="listview" data-divider-theme="b" data-inset="false">
            <li data-theme="b">
                <button data-role="button" id="btnSensors" data-theme="b">
                    Sensor 1
                </button>
            </li>
        </ul>
    </div>
    <div data-theme="b" data-role="footer">
        <h3>
            UW-Madison
        </h3>
    </div>
</div>

<div data-role="page" data-control-title="Routers" id="sensor_settings" data-theme="b">
    <div data-theme="b" data-role="header" id="header">
        <button data-role="button" data-inline="true" class="ui-btn-left" id="btnBacktoDevices">
            Back
        </button>
        <h5>
            Sensor Settings
        </h5>
    </div>
    <div data-role="content" data-theme="b">
        <ul data-role="listview" data-divider-theme="b" data-inset="false" id="set_sched">
            <li data-theme="c">
                <button data-role="button" id="setSchedule">
                    Set new schedule
                </button>
            </li>
        </ul>
        <ul data-role="listview" data-divider-theme="b" data-inset="false">
            <li data-role="list-divider" role="heading">
                Active Schedules
            </li>
            <li data-theme="b">
                <div class="ui-grid-a">
                    <div class="ui-block-a">
                        <h3 style="text-align:center">
                            Time 1
                        </h3>
                    </div>
                    <div class="ui-block-b">
                        <div data-role="fieldcontain" data-controltype="toggleswitch" data-theme="b">
                            <select name="toggleswitch1" id="toggleswitch1" data-theme="b" data-role="slider"
                                    data-mini="true" data-theme="b">
                                <option value="off">
                                    Off
                                </option>
                                <option value="on">
                                    On
                                </option>
                            </select>
                        </div>
                    </div>
                </div>
            </li>
            <li data-theme="b">
                <div class="ui-grid-a">
                    <div class="ui-block-a">
                        <h3 style="text-align:center">
                            Time 2
                        </h3>
                    </div>
                    <div class="ui-block-b">
                        <div data-role="fieldcontain" data-controltype="toggleswitch" data-theme="b">
                            <select name="toggleswitch1" id="toggleswitch1" data-theme="b" data-role="slider"
                                    data-mini="true" data-theme="b">
                                <option value="off">
                                    Off
                                </option>
                                <option value="on">
                                    On
                                </option>
                            </select>
                        </div>
                    </div>
                </div>
            </li>
            <li data-theme="b">
                <div class="ui-grid-a">
                    <div class="ui-block-a">
                        <h3 style="text-align:center">
                            Time 3
                        </h3>
                    </div>
                    <div class="ui-block-b">
                        <div data-role="fieldcontain" data-controltype="toggleswitch" data-theme="b">
                            <select name="toggleswitch1" id="toggleswitch1" data-theme="b" data-role="slider"
                                    data-mini="true" data-theme="b">
                                <option value="off">
                                    Off
                                </option>
                                <option value="on">
                                    On
                                </option>
                            </select>
                        </div>
                    </div>
                </div>
            </li>
        </ul>
        <ul data-role="listview" data-divider-theme="b" data-inset="false">
            <li data-role="list-divider" role="heading">
                Distance Settings
            </li>
            <li data-theme="b">
                <div class="ui-grid-a">
                    <div class="ui-block-a" style="margin:auto">
                        <h3 style="text-align:center">
                            Distance Control
                        </h3>
                    </div>
                    <div class="ui-block-b">
                        <div data-role="fieldcontain" data-controltype="toggleswitch" data-theme="b">
                            <select name="toggleswitch1" id="tsDControl" data-theme="b" data-role="slider"
                                    data-mini="true" data-theme="b">
                                <option value="off">
                                    Off
                                </option>
                                <option value="on" selected>
                                    On
                                </option>
                            </select>
                        </div>
                    </div>
                </div>
            </li>
            <div id="distance_group">
                <li data-theme="b">
                    <div class="ui-grid-a">
                        <div class="ui-block-a" style="margin:auto">
                            <h3 style="text-align:center">
                                Turn this device
                            </h3>
                        </div>
                        <div class="ui-block-b">
                            <div data-role="fieldcontain" data-controltype="toggleswitch" data-theme="b">
                                <select name="toggleswitch1" id="toggleswitch1" data-theme="b" data-role="slider"
                                        data-mini="true" data-theme="b">
                                    <option value="off">
                                        Off
                                    </option>
                                    <option value="on" selected>
                                        On
                                    </option>
                                </select>
                            </div>
                        </div>
                    </div>
                </li>
            <div class="ui-grid-b" data-theme="b">
                <div class="ui-block-a" data-theme="b">
                    <h4>
                        When I am
                    </h4>
                </div>
                <div class="ui-block-b" data-theme="b">
                    <div data-role="fieldcontain" data-controltype="textinput">
                        <input name="" id="textinput1" placeholder="" value="" type="number" data-mini="true">
                    </div>
                </div>
                <div class="ui-block-c" data-theme="b" id="">
                    <h4 style="text-align:center">
                        miles away
                    </h4>
                </div>
            </div>
            <a data-role="button" href="#page4" data-theme="b">
                Save
            </a>
        </div>
    </div>
    <div data-theme="b" data-role="footer">
        <h3>
            UW-Madison
        </h3>
    </div>
</div>



<div data-role="page" data-control-title="Home" id="time_scheduler" data-theme="b">
    <div data-theme="b" data-role="header" id="header">
        <button data-role="button" data-inline="true" class="ui-btn-left" id="btnBacktoSensorSettings">
            Back
        </button>
        <h3>
            Set Schedule
        </h3>
    </div>
    <div data-role="content" data-theme="b">
        <div class="ui-grid-a" data-theme="b">
            <div class="ui-block-a" data-theme="b">
                <h3>
                    Set this device
                </h3>
            </div>
            <div class="ui-block-b" data-theme="b">
                <div data-role="fieldcontain" data-controltype="toggleswitch" data-theme="b">
                    <select name="toggleswitch1" id="toggleswitch1" data-theme="b" data-role="slider"
                    data-mini="true" data-theme="b">
                        <option value="off">
                            Off
                        </option>
                        <option value="on">
                            On
                        </option>
                    </select>
                </div>
            </div>
        </div>
        <h2>
            At this time
        </h2>
        <div class="ui-grid-a" data-theme="b">
            <div class="ui-block-a" data-theme="b">
                <div data-role="fieldcontain" data-controltype="dateinput" data-theme="b">
                    <input name="" id="dateinput6" placeholder="" value="" type="time">
                </div>
            </div>
            <div class="ui-block-b" data-theme="b">
                <a data-role="button" href="#page1" data-icon="plus" data-iconpos="notext" data-theme="b">
                </a>
            </div>
        </div>
        <h2>
            Each week repeating on
        </h2>
        <div id="checkboxes2" data-role="fieldcontain" data-controltype="checkboxes" data-theme="b">
            <fieldset data-role="controlgroup" data-type="vertical" data-theme="b">
                <input id="checkbox4" name="" type="checkbox">
                    <label for="checkbox4">
                        Sunday
                    </label>
                <input id="checkbox5" name="" type="checkbox">
                    <label for="checkbox5">
                        Monday
                    </label>
                <input id="checkbox6" name="" type="checkbox">
                    <label for="checkbox6">
                        Tuesday
                    </label>
                <input id="checkbox7" name="" type="checkbox">
                    <label for="checkbox7">
                        Wednesday
                    </label>
                <input id="checkbox8" name="" type="checkbox">
                    <label for="checkbox8">
                        Thursday
                    </label>
                <input id="checkbox9" name="" type="checkbox">
                    <label for="checkbox9">
                        Friday
                    </label>
                <input id="checkbox10" name="" type="checkbox">
                    <label for="checkbox10">
                        Saturday
                    </label>
            </fieldset>
        </div>
        <a data-role="button" href="#page1" data-theme="b">
            Save
        </a>
    </div>
    <div data-theme="b" data-role="footer" data-position="fixed">
        <h3>
            UW-Madison
        </h3>
    </div>
</div>



</body>






















<script>

$("#loginBtn").click(function (e) {
    // if(localStorage){
    //     //Set the name, age and colour items
    //     alert("yay");
    // }
    // //Alert the user to upgrade their browser
    // else {
    //     alert('Local storage not supported. Please get a proper browser');
    // }

    // var db = window.openDatabase("test", "1.0", "Test DB", 1000000);
    // alert(db.name);

    var e = $("#email").val();
    var p = $("#password").val();

    // var e = $("#email").val();
// window.localStorage.setItem("key", "minhbinh");
//                 var keyname = window.localStorage.key(i);
//                 // keyname is now equal to "key"
//                 var value = window.localStorage.getItem("key");
// alert(u);
// alert(p);
// alert(keyname);
// alert(value);


$.ajax({
      url: "http://studioxps.wings.cs.wisc.edu/digitalnetworkdevices/includes/process_login_mobile.php",
      type: "post",
      data: {'email': e,'p':p},
  datatype: 'json',
      success: function(data){

        data = $.trim(data);
        if(data === "\"Success\""){
            $(':mobile-pagecontainer').pagecontainer('change', '#devices', {
            transition: 'slide',
            changeHash: false,
            showLoadMsg: true

            });


        }else{
            console.log(data);
        }
         
      },
      error: function(error) {
        alert((error.responseText));
}
    });


// var user = new Parse.User();
// user.set("username", u);
// user.set("password", p);
// user.set("email", e);
 

 
// user.signUp(null, {
//   success: function(user) {
//     // Hooray! Let them use the app now.
//     alert("Success!")
//   },
//   error: function(user, error) {
//     // Show the error message somewhere and let the user try again.
//     alert("Error: " + error.code + " " + error.message);
//   }
// });





});


$("#btnSensors").click(function (e) {

                $(':mobile-pagecontainer').pagecontainer('change', '#sensor_settings', {
            transition: 'slide',
            changeHash: false,
            showLoadMsg: true

            });

});

$("#btnLogout").click(function (e) {

                $(':mobile-pagecontainer').pagecontainer('change', '#loginPage', {
            transition: 'slide',
            changeHash: false,
            reverse: true,
            showLoadMsg: true

            });

});

$("#btnBacktoDevices").click(function (e) {

                $(':mobile-pagecontainer').pagecontainer('change', '#devices', {
            transition: 'slide',
            changeHash: false,
            reverse: true,
            showLoadMsg: true

            });

});

$("#btnBacktoSensorSettings").click(function (e) {

                $(':mobile-pagecontainer').pagecontainer('change', '#sensor_settings', {
            transition: 'slide',
            changeHash: false,
            reverse: true,
            showLoadMsg: true

            });

});

$("#setSchedule").click(function (e) {

                $(':mobile-pagecontainer').pagecontainer('change', '#time_scheduler', {
            transition: 'slide',
            changeHash: false,
            showLoadMsg: true

            });

});




$( "#tsDControl" ).on( "slidestop", function(event, ui) {
  
  //Get boolean of whether or not slide toggle is on for distance control
  var bDControl = $("#tsDControl").val();

  //If off, hide settings below
  if(bDControl == "off")
  {
    $( "#distance_group" ).hide();
  } 
  else
  {
    $( "#distance_group" ).show();
  }

});




</script> 
</html>













